# MVIM
## Introduction
Martensite Variant Identification Method (MVIM) is a post-processing program using the function library in OVITO. The method is based on the works published in 
1. Chia-Wei Yang and Nien-Ti Tsou* “Microstructural analysis and molecular dynamics modeling of shape memory alloys” in Computational Materials Science 131 (2017) 293–300
2. Hung-Yuan Lu, Chih-Hsuan Chen and Nien-Ti Tsou* “The Analysis of Superelasticity and Microstructural Evolution in NiTi Single Crystals by Molecular Dynamics” in Materials (2019) 12, 57; doi:10.3390/ma12010057. 

This method is developed by Yi-Ming Tseng, Hung-Yuan Lu, Chia-Wei Yang, Jo-Fan Wu, Ji-Ting Li, Hsin-Yu Chen, Prof. Chuin-Shan Chen and Prof. Nien-Ti Tsou*. It can help users to identify the microstructure of Nickel-Titanium alloys, such as Austenite, Orthorhombic, Monoclinic.

Note that this is a beta version and may not be applicable for all the cases of shape memory alloys. If this method is useful for your work, please cite the papers mentioned above. Many thanks.
## Datasets
The data in the sample folder has been processed, and the user can do the same process by average.py. The example is an indentation simulation of Ni-Ti alloy at 325K.
## Dependencies
The script has been tested under Python 3.6.X and Ovito 3.0.0 dev41x. User can run it on personal development environment(making sure install requirment modules).
## Run the Code
### Average.py
The goal of average.py is to average the simulated files of Lammps to reduce the errors caused by thermal oscillation. The code that the user needs to change is as follows:
> Line 10 : Please replace the '' with the dump file generated by your Lammps simulation. * is used to represent dump files at different times.
```python
node = import_file('/Users/Desktop/simulation.*')
```
>Line 14 : Changes are selective(Default is to average 50 dump files to one dump file).You can change the value to the appropriate timesteps according to your own situation.
```python
num_average = 50
```
>Line 40 : Here is the folder and file name to select for output. The default file name is average.If you don't want to change the file name, you can just change the file path so that the new dump file name is average_50_0.dump avearage_50_1.dump, etc
```python
export_file(data, '/data2/z_indent/set/average_50_%s.dump'%series, 'lammps/dump',columns = ['Particle Identifier','Particle Type','Position.X', 'Position.Y', 'Position.Z'],frame = series*num_average)
```
### MVIM.py
Identify the microstructure of Nickel-Titanium alloy.
The code that the user needs to change is as follows:
>Line 15 : The path to the input file is the same as the path to the final output of average.py.
>Line 16 : The file location of the reference file, which is the dump file obtained after Lammps minimize. (Delete the type2 atoms by yourself.)
```python
# input file 
node = import_file('/Users/file_path/average.*')
# reference file
node_ref = import_file('/Users/file_path/ref')
```
>Line 772 : Set the output file location, as same as the average.py.
## Visualize post-processing results
After using MVIM.py, we can get the dump file with variants information and use the visualization software Ovito to visualize(color coding) variants with our own colormap.
## Contributing
This method is developed by Yi-Ming Tseng, Hung-Yuan Lu, Chia-Wei Yang, Jo-Fan Wu, Ji-Ting Li, Hsin-Yu Chen, Prof. Chuin-Shan Chen and Prof. Nien-Ti Tsou*. If this method is useful for your work, please cite the papers mentioned above. Many thanks.

* The corresponding author:  
Nien-Ti Tsou (tsounienti@nctu.edu.tw)  
Associate professor  
Department of Materials Science and Engineering  
National Chiao Tung University, Taiwan
